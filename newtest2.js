let mytext =
  "80% OFF\n Multi - use code: ZK7XL7YL\nhttps://amzn.to/2TJYl7q\n#0617TodaysDeals\n#savings #coupons #promo #sales #deals #discounts #promocode #onlineshopping #shopping #frugal #online #onlinedeals #couponcommunity #neverpayretail #neverpayfullprice #discount #savingmoney #promos\n Price and availability are accurate as of the date/time indicated and are subject to change at any time.ï¸Code/coupon/promotion, if any, may expire at any time without notice.ï¸Content provided is 'AS IS' and is subject to change or removal at any time. I do not own this Photo, It is Property Of the Seller listed in the Link.*As an Amazon Associate I earn from qualifying purchases";
// "ğ’ğ„ğ•ğ„ğğ“ğ˜ ğğ„ğ‘ğ‚ğ„ğğ“ ğğ…ğ… \nUse promo code: 70TJVD7K\nWorks only on Sunset Red option with a quantity limit of 1\nhttps://amzn.to/3wAmuvA\n(ğ‘·ğ’‚ğ’Šğ’… ğ‘³ğ’Šğ’ğ’Œ)\n ğ˜“ğ˜¦ğ˜µ ğ˜®ğ˜¦ ğ˜¬ğ˜¯ğ˜°ğ˜¸ ğ˜ªğ˜§ ğ˜ºğ˜°ğ˜¶ ğ˜´ğ˜¤ğ˜°ğ˜³ğ˜¦ğ˜¥ ğ˜µğ˜©ğ˜ªğ˜´ ğ˜¥ğ˜¦ğ˜¢ğ˜­! ğ‡ğˆğ“ ğ“ğ‡ğ€ğ“ ğ’ğ‡ğ€ğ‘ğ„ ğğ”ğ“ğ“ğğ ğ˜ªğ˜§ ğ˜ºğ˜°ğ˜¶ ğ˜¬ğ˜¯ğ˜°ğ˜¸ ğ˜´ğ˜°ğ˜®ğ˜¦ğ˜°ğ˜¯ğ˜¦ ğ˜¸ğ˜©ğ˜° ğ˜®ğ˜ªğ˜¨ğ˜©ğ˜µ ğ˜­ğ˜ªğ˜¬ğ˜¦ ğ˜µğ˜©ğ˜ªğ˜´ ğ˜¥ğ˜¦ğ˜¢ğ˜­ ğ˜µğ˜°ğ˜°!\nPetrichor Sunset Lamp Projector, Sunset Projection 180 Degree Rotation Projection Lamp Romantic Visual Led Light for Photography/Selfie/Home/Living Room/Bedroom Decor (Sunset Red)";
// "50% off Built in Sink Soap Dispenser\nUse promo code: 50ZHXHZP at checkout\nCode works on select options\nhttps://amzn.to/3cRWxzY #Ad";
// "4pcs Pie pans\n off with code 604MN6DY\nhttps://www.amazon.com/dp/B085ZLY646/\n#ad #bloomingdeals #bloomingdeals4U";
// "60% OFF \nUse promo code: ULRNVV5A\nhttps://amzn.to/3zEuOw6\n(ğ‘·ğ’‚ğ’Šğ’… ğ‘³ğ’Šğ’ğ’Œ)\n ğ˜“ğ˜¦ğ˜µ ğ˜®ğ˜¦ ğ˜¬ğ˜¯ğ˜°ğ˜¸ ğ˜ªğ˜§ ğ˜ºğ˜°ğ˜¶ ğ˜´ğ˜¤ğ˜°ğ˜³ğ˜¦ğ˜¥ ğ˜µğ˜©ğ˜ªğ˜´ ğ˜¥ğ˜¦ğ˜¢ğ˜­! ğ‡ğˆğ“ ğ“ğ‡ğ€ğ“ ğ’ğ‡ğ€ğ‘ğ„ ğğ”ğ“ğ“ğğ ğ˜ªğ˜§ ğ˜ºğ˜°ğ˜¶ ğ˜¬ğ˜¯ğ˜°ğ˜¸ ğ˜´ğ˜°ğ˜®ğ˜¦ğ˜°ğ˜¯ğ˜¦ ğ˜¸ğ˜©ğ˜° ğ˜®ğ˜ªğ˜¨ğ˜©ğ˜µ ğ˜­ğ˜ªğ˜¬ğ˜¦ ğ˜µğ˜©ğ˜ªğ˜´ ğ˜¥ğ˜¦ğ˜¢ğ˜­ ğ˜µğ˜°ğ˜°!\nDreaming Wapiti, 100% Washed Microfiber 3pcs Bedding Duvet Cover Set,Solid Color-Soft and Breathable with Zipper Closure & Corner Ties (Pink Mocha,Queen), 3 Peices";
// let mytext =
//   "DEAD DEAL! If you missed this deal, make sure to FOLLOW our Telegram for instant notifications on RUN DEALS & FREEBIES we post so you don't miss out next time! https://bit.ly/23f3234---------------- ï¼²ï¼µï¼®ï¼ ï¼¦ï¼²ï¼¥ï¼¥ KIDS SCOOTER USE CODE: 507I1ZDU https://amzn.to/3gG4N7f (Paid Link) ğ˜“ğ˜¦ğ˜µ ğ˜®ğ˜¦ ğ˜¬ğ˜¯ğ˜°ğ˜¸ ğ˜ªğ˜§ ğ˜ºğ˜°ğ˜¶ ğ˜´ğ˜¯ğ˜¢ğ˜¨ğ˜¨ğ˜¦ğ˜¥ ğ˜µğ˜©ğ˜ªğ˜´! â€¢ ğ˜›ğ˜ğ˜ğ˜š ğ˜Šğ˜–ğ˜•ğ˜›ğ˜Œğ˜•ğ˜› ğ˜ğ˜š ğ˜—ğ˜™ğ˜–ğ˜ğ˜ğ˜‹ğ˜Œğ˜‹ â€˜ğ˜ˆğ˜š ğ˜ğ˜šâ€™ ğ˜ˆğ˜•ğ˜‹ ğ˜ğ˜š ğ˜šğ˜œğ˜‰ğ˜‘ğ˜Œğ˜Šğ˜› ğ˜›ğ˜– ğ˜Šğ˜ğ˜ˆğ˜•ğ˜ğ˜Œ ğ˜–ğ˜™ ğ˜™ğ˜Œğ˜”ğ˜–ğ˜ğ˜ˆğ˜“ ğ˜ğ˜ğ˜›ğ˜ğ˜–ğ˜œğ˜› ğ˜•ğ˜–ğ˜›ğ˜ğ˜Šğ˜Œ â€¢ ğ˜—ğ˜³ğ˜°ğ˜®ğ˜° ğ˜¤ğ˜°ğ˜¥ğ˜¦ğ˜´, ğ˜ªğ˜§ ğ˜¢ğ˜·ğ˜¢ğ˜ªğ˜­ğ˜¢ğ˜£ğ˜­ğ˜¦, ğ˜®ğ˜¢ğ˜º ğ˜¦ğ˜¹ğ˜±ğ˜ªğ˜³ğ˜¦ ğ˜¢ğ˜¯ğ˜ºğ˜µğ˜ªğ˜®ğ˜¦.";
let urlRegex =
  /(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/;

let selectedlink = "http://google.com";
// let mytextarray = mytext.split(" ");
// for (let p = 0; p < mytextarray.length; p++) {
//   if (urlRegex.test(mytextarray[p])) {
//     if (
//       mytextarray[p].indexOf("amzn.to") == -1 &&
//       mytextarray[p].indexOf("amazon.com") == -1
//     ) {
//       console.log("13", mytextarray[p]);
//       mytext = mytext.replace(mytextarray[p], "");
//     }
//   }
// }

// let possibleTextInArray = mytext
//   .replace(/\n/g, " ")
//   .replace(/(#\S+)/gi, "") // remove # tags
//   .replace("See More", "")
//   .replace("â€¦", "")
//   .replace("ave", "save")

//   .replace(/http/, selectedlink)
//   .replace(urlRegex, selectedlink)
//   .replace(/0 %/g, "0%")
//   .replace(/5 %/g, "5%")
//   .replace(/6 %/g, "6%")
//   .replace(/7 %/g, "7%")
//   .replace(/8 %/g, "8%")
//   .replace(/9 %/g, "9%")
//   .split("Could we now")[0]
//   .split("ğ˜“ğ˜¦ğ˜µ ğ˜®ğ˜¦ ğ˜¬ğ˜¯ğ˜°ğ˜¸")[0]
//   .split("COMMENT")[0]
//   .split("DROP A HEART")[0]
//   .split("Price and availability are accurate")[0]
//   .split("Product prices and availability")[0]
//   .split("This is an Affiliate post")[0]
//   .trim();

// console.log(possibleTextInArray, "answer");
let mytextarray = mytext.split(" ");
let finaltext = "";
for (let p = 0; p < mytextarray.length; p++) {
  if (finaltext) break;
  if (urlRegex.test(mytextarray[p])) {
    if (
      mytextarray[p].indexOf("amzn.to") == -1 &&
      mytextarray[p].indexOf("amazon.com") == -1
    ) {
      console.log("13", mytextarray[p]);
      mytext = mytext.replace(mytextarray[p], "");
    } else if (
      mytextarray[p].indexOf("amzn.to") !== -1 ||
      mytextarray[p].indexOf("amazon.com") !== -1
    ) {
      let arraytopossiblyremove = mytext.split(`${[mytextarray[p]]}`);
      let linkrelevanttext =
        arraytopossiblyremove.shift() + " " + mytextarray[p];

      console.log("start", mytextarray[p]);
      console.log("end");
      console.log(linkrelevanttext, 65);

      console.log(arraytopossiblyremove, 67);
      let newstring =
        linkrelevanttext +
        arraytopossiblyremove
          .join("")
          .split("\n")
          .filter((t) => {
            if (/code/gi.test(t) || /% /gi.test(t)) {
              return true;
            }

            if (
              /COMMENT/gi.test(t) ||
              /TELEGRAM/gi.test(t) ||
              /affiliate post/gi.test(t) ||
              /drop a post/gi.test(t) ||
              /t.me/gi.test(t) ||
              /ğ˜“ğ˜¦ğ˜µ ğ˜®ğ˜¦ ğ˜¬ğ˜¯ğ˜°ğ˜¸/gi.test(t) ||
              /DROP A HEART/gi.test(t) ||
              /ğ‘·ğ’‚/g.test(t)
            ) {
              return false;
            }
            return false;
          })
          .join(" ");

      finaltext = newstring;
    }
  }
}

let possibleTextInArray = finaltext
  .replace(/\n/g, " ")
  .replace(/(#\S+)/gi, "") // remove # tags
  .replace("See More", "")
  .replace("â€¦", "")
  .replace("ave", "save")

  .replace(/http/, selectedlink)
  .replace(urlRegex, selectedlink)
  .replace(/\(ğ‘·ğ’‚ğ’Šğ’…/gi, "")
  .replace(/0 %/g, "0%")
  .replace(/5 %/g, "5%")
  .replace(/6 %/g, "6%")
  .replace(/7 %/g, "7%")
  .replace(/8 %/g, "8%")
  .replace(/9 %/g, "9%")
  .split("Could we now")[0]
  .split("COMMENT")[0]
  .split("JOIN TELEGRAM")[0]
  .split("DROP A HEART")[0]
  .split("Price and availability are accurate")[0]
  .split("This is an Affiliate post")[0]
  .split("ğ˜“ğ˜¦ğ˜µ ğ˜®ğ˜¦ ğ˜¬ğ˜¯ğ˜°ğ˜¸")[0]
  .trim();

console.log(possibleTextInArray, "answer");
